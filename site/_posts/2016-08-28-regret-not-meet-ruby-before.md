---
layout: post
title: "Ruby 相见恨晚"
permalink: /page/regret-not-meet-ruby-before.html
tags:
- Ruby
---
大学时因为好奇的原因在图书馆借阅过几次 Ruby 和 Ruby on Rails 的书籍，大概是道行不够的原因，完全体会不到它的优点。

两个月前，因为 Jekyll 接触到了 Ruby，并且成为了 Jekyll 的忠实贡献者。之后，不仅所有的个人做的网站都变成了 "Powered by Jekyll"，还学会了 Jekyll 整个 Project 极致的自动化工具链。现在，这个网站本身就是自动化工具链的受益者，它使用 `rake` 来自动完成各项操作，并且通过 GitHub Webhooks 自动触发更新部署。

此外，我还发起了 Heelbot 这个项目，来建设自己的自动化工具链和 Workflow。它本身也高度自动化，包括测试部分，我学会并应用了 Behavior Driven Development，以后有时间会专门写文章讲述。总之就是，改过代码后，不需要手动操作任何东西，只需要跑一次测试脚本。哪里需要改、哪里忘记改一下子就可以知道。

然后，我买了 Matz 的两本书：《松本行弘的程序世界》和《代码的未来》，了解 Ruby 的设计背景和哲学。

对 Ruby 最大的感受就是整体体验很舒服，其次就是生态非常完善。内在的体验就是，Ruby 的程序员很有自己的思想，尤其是在“如何做软件”这个主题上。因此，与这个主题相关的领域，在 Ruby 上的发展都非常完善，即使 Ruby 整体的人气和我原来常用的 PHP 有一定差距。Ruby 本身灵活动态的语法和自身的一些特性，也让开发的便捷成为了可能。

但国内很多 PHP 程序员却不那么关注这块。就我对狼厂 PHP 程序员们的了解，他们往往心中想着“高并发”、“性能”、“分布式”等“高大上”的主题，本质上对“世界上最好的语言”并无多大好感，只是造化弄人不得不写罢了。他们最希望的是什么时候能够改用性能更好的底层的语言——老牌的 C/C++ 或者 Golang，甚至说在脚本语言中也希望能用上更优雅飘逸的 Python 什么的。

我承认，我起初也是这样的人，也对 PHP 没什么兴趣。但不用多长时间，每个任何语言的使用者可以发现几个事实（或许不会承认）：

* 不是所有程序都需要自身执行效率很高，有些只是希望开发效率高
* 用 C/C++ 或 Golang 或某些框架写出了表现“很牛”程序，那是人家自身的优势，和程序员本人关系不大
* 不管用什么语言，都需要一些软素质，其中很重要的一块就是“代码可维护性”

作为 Web 产品研发工程师，我觉得在产品迭代中，工程师最应该关注的是开发效率和代码可维护性。性能需要时刻考虑，但这只是工程师追求的一小块。但事实是，性能被过多考虑了，而在协同环境中会提供更大收益的代码可维护性却被忽略了。我们一言不合就放弃文档、自动化测试、Code Review 等环节。

代码可维护性是衡量一个程序员 craftmanship 的重要指标，这也是 Rubyist 哲学中很重视的一块。因此，他们发明或实现了很多理念上领先的东西提高可维护性。比如：Ruby on Rails，它当然比 Sinatra/[yaf](https://github.com/laruence/yaf) 这样的框架重、复杂、不易入门，但却能得到真正的极致的开发效率。

因此，更加精英化的外国初创企业很流行使用 Ruby on Rails 作为后端解决方案。比如：Twitter, Airbnb, GitHub, Shopify 等。

End.