<!DOCTYPE html>
<html>
  <head>
  <meta charset="UTF-8">
  <meta name="description" content="Home page and blog of David Zhang (@crispgm), a minimalist programmer, photographer, and lifehacker."/>
  <title>我的 HHKB 键盘演进式布局方案 | David Zhang</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="canonical" href="https://crispgm.com/page/hhkb-evolutionary-way.html">
  
  <link rel="alternate" href="https://crisp.dev/page/hhkb-evolutionary-way.html">
  
  <link rel="alternate" href="https://crispgm.com/feed.xml" type="application/rss+xml" title="RSS">
  <link href="https://fonts.googleapis.com/css?family=Fira+Sans|Fira+Mono" rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="/image/logo.png">
  
  <link rel="stylesheet" href="/assets/css/font.css?v=1575971919">
  
  
  <link rel="stylesheet" href="/assets/css/nord.css">
  
  <link rel="stylesheet" href="/assets/css/style.css">
  <script src="https://use.typekit.net/syr2mmc.js"></script>
  <script>try{Typekit.load({ async: true });}catch(e){}</script>
</head>

  <body>
    <div class="progress-bar"></div>
    <div class="wrapper blog-wrapper content-wrapper">
      <div class="article">
        <div class="article-menu">
          <div class="article-home">
            <a href="/">DAVID ZHANG</a>
          </div>
          <div class="article-back">
            <a href="/blog.html"><< Back</a>
          </div>
        </div>
        <div class="article-head">
          <div class="article-title">
            我的 HHKB 键盘演进式布局方案
          </div>
          <div class="article-date">
            <time datetime="2018-10-26 00:00:00 +0800">October 26, 2018</time>
          </div>
        </div>
        <div class="article-main">
          <p>自从工作时使用的 MacBook Pro 的「蝶式」键盘<code class="highlighter-rouge">T</code>键出现间歇性「连击」故障后，我就经常会打出 <del>retturn</del> 和 <del>ttype</del> 这样的错误拼写。在程序设计中，这会造成了很大的麻烦，毕竟这是语法错误。</p>

<p>于是，我选择入手了有线（我总是不相信无线设备）、无刻的 <a href="http://www.pfu.fujitsu.com/hhkeyboard/type-s/">HHKB Professional2 Type-S</a> 作为替代。</p>

<p>HHKB 是个很有态度的键盘，接受了它往往代表着接受了一种「革命性」的键位设计，或许也是一种「生活方式」。我从不惧怕折腾，但我想说的是比起“革命性”（revolutionary）的方式，我更倾向于在此选择“演进式”（evolutionary）的方式。</p>

<p>下面我就分享下我使用 HHKB 的方式。</p>

<h2 id="印象和布局">印象和布局</h2>

<p>首先，拿到 HHKB 的第一印象是：</p>

<ul>
  <li>小，可以直接覆盖在 MacBook Pro 的键盘上</li>
  <li>简，由于是无刻的按键没有字，正面只有右下角有标志</li>
  <li>静，Type S 的 S 是 Silent，比起机械键盘，声音几乎都可以忽略</li>
</ul>

<p><img src="https://crispgm.com/image/HHKB-small-size.jpg" alt="small-size" /></p>

<p>接着说布局，这也是 HHKB 为人所知的最大印象——通过独特的布局获得很高的效率。</p>

<p><img src="https://crispgm.com/image/HHKB-Pro-2-default-layout.png" alt="keyboard-setting" /></p>

<p>仔细观察了键位布局后，就会发现了很多不同：</p>

<ol>
  <li>只有60键</li>
  <li>没有功能键 (F1, F2, …)</li>
  <li><code class="highlighter-rouge">CapsLock</code> 被 <code class="highlighter-rouge">Control</code> 取代了</li>
  <li><code class="highlighter-rouge">Esc</code> 取代了重音号/波浪号的位置</li>
  <li><code class="highlighter-rouge">\</code> 在一般键盘 <code class="highlighter-rouge">=</code> 的位置</li>
  <li>没有方向键</li>
  <li>退格不在最右上角</li>
</ol>

<p>针对这些<em>特性</em>，我的感受是：</p>

<ol>
  <li>👍 这很极简，我喜欢</li>
  <li>👌 问题不大，因为 macOS 默认式关闭功能键的，平时也就用来调声音什么的</li>
  <li>😨 <code class="highlighter-rouge">Control</code> 在这个位置的确很舒服，但老的 <code class="highlighter-rouge">Control</code> 位置已经习惯了</li>
  <li>😨 这很坑。波浪号常用于切换到 <code class="highlighter-rouge">$HOME</code>，重音号常用于 Markdown</li>
  <li>🤷 还好，但其实编程中反斜杠用的也比较多</li>
  <li>😢 这可以说十分不方便</li>
  <li>😢 这和一般键盘不同</li>
</ol>

<h2 id="我的方案">我的方案</h2>

<p>这里我想简单说下背景，除去工作中的 MBP 外，我其实在家中还有一个配备了 Filco 键盘的 Windows 系统台式机，以及另外一台 Mac 笔记本。</p>

<p>我不担心我无法适应什么的，不爱折腾的人估计不会买这样另类的键盘，但需要考虑到同时使用其它设备。如果全面拥抱 HHKB 风格，我大概需要维护<strong>3套</strong>肌肉记忆。从 87 键 Windows 键盘到标准 Mac 键盘，再到 HHKB。而且 HHKB 作为工作中的键盘势必使用时间会远比另两种长，那么长久下来一定是对于 HHKB 更熟悉，在家中使用时反而效率会因为切换手感大大降低了。</p>

<p>并且，HHKB 的默认布局会使一些已有的 Mac 快捷键很难按。比如 <code class="highlighter-rouge">Command + 重音键</code> 切换同一个应用程序的不同窗口，原先是左手单手操作，现在要改成双手操作。</p>

<p>把 <code class="highlighter-rouge">Control</code> 挪到 <code class="highlighter-rouge">CapsLock</code> 虽然可以带来快乐和效率，但也会付出比较大的代价。我认为我可以以一种更加演进式的方式使用 HHKB。</p>

<p>所以“演进 Evolutionary” 是与“革命性 Revolutionary” 相对应的，我认为没有必要为了一款键盘抛弃长期依赖的肌肉记忆。</p>

<p>我的方式是使用 Karabiner 合理改键并且加入一些魔法。</p>

<h2 id="karabiner">Karabiner</h2>

<p><a href="https://pqrs.org/osx/karabiner/">Karabiner</a> 是 macOS 上最好最强大的改键工具，它为我解决 HHKB 的布局问题提供了思路。</p>

<h4 id="基本改动">基本改动</h4>

<ul>
  <li>把 <code class="highlighter-rouge">Control</code> 和 <code class="highlighter-rouge">Option</code> 交换，保持用普通键盘时的手势。HHKB 虽然在左下角没有按键，但由于 Mac 的左下角是 <code class="highlighter-rouge">Fn</code>，所以 <code class="highlighter-rouge">Option</code> 其实和 Mac 的 <code class="highlighter-rouge">Control</code> 位置差不多。<code class="highlighter-rouge">Option</code> 不那么常用，放在不喜欢的位置也没关系。</li>
  <li>重音号/波浪号、退格和反斜杠三者进行交换。这样反斜杠和退格都回到熟悉的位置，重音号/波浪号的位置并没有得到改善，因此我会在后续说到怎么使用魔法优化。</li>
</ul>

<p><img src="https://crispgm.com/image/HHKB-option.jpg" alt="HHKB Option" />
注：HHKB 的 <code class="highlighter-rouge">Option</code> 其实和 MacBook Pro 的 <code class="highlighter-rouge">Control</code> 位置几乎一样。</p>

<h4 id="魔法">魔法</h4>

<p>魔法其实就是用 Karabiner 的组合改键，在保证原先按键功能的前提下，实现原来的效果。</p>

<ul>
  <li><code class="highlighter-rouge">Command + Esc</code> 改成 <code class="highlighter-rouge">Command + 重音键</code>，这样可以继续用原先的方式切换窗口。</li>
  <li><code class="highlighter-rouge">Shift + Esc</code> 改成 <code class="highlighter-rouge">~</code>，这样可以继续用原先的方式输入波浪号。</li>
  <li><code class="highlighter-rouge">Shift + Delete</code> 改成向前删除，这和 macOS 标准快捷键一致。</li>
</ul>

<p>最后，记得<strong>备份</strong> <code class="highlighter-rouge">karabiner.json</code> 到你自己的 dotfiles，否则一旦丢失后果不堪设想。</p>

<p><strong>HHKB 无刻键盘让你的键盘只能自己使用，而一旦丢失 <code class="highlighter-rouge">karabiner.json</code> 恐怕你自己也没法正常使用。</strong></p>

<h2 id="方向键">方向键</h2>

<p>至于方向键的确没有更好的方式，HHKB 自带的 Fn 组合键整体还算可行。</p>

<h2 id="其它-tips">其它 Tips</h2>

<ul>
  <li>我的 DIP 选在 Lite Ext. Mode。比起 Mac Mode 只关闭了几个多媒体组合键。</li>
  <li>禁用 <code class="highlighter-rouge">Fn + P</code>。<code class="highlighter-rouge">Fn + P</code> 就在组合的方向键旁边，一旦按错就会调屏幕亮度，很烦人。</li>
  <li>设置 <code class="highlighter-rouge">disable_built_in_keyboard_if_exists</code>，便于放在 Mac 键盘上时不会按到下面。</li>
  <li>弯头 USB 线。原装线会伸到屏幕上。</li>
</ul>

<p><img src="https://crispgm.com/image/HHKB-usb-cable.jpg" alt="USB Cable" /></p>

<h2 id="结论">结论</h2>

<p>HHKB 是个很好的键盘，但我觉得为了它而彻底改变肌肉记忆并不值得，Karabiner 可以帮助我采用更演进式的方式使用 HHKB。这里我给出我的 <a href="https://github.com/crispgm/dotfiles/blob/master/Karabiner/karabiner.json">karabiner.json</a> 供参考。</p>

<p>这里我给出一些配置后的优点和缺点：</p>

<h4 id="优点">优点</h4>

<ul>
  <li>很小很极简，可以放在 MacBook Pro 上用</li>
  <li>顺滑、舒适</li>
  <li>只为你自己配置、使用，哈哈</li>
</ul>

<h4 id="缺点">缺点</h4>

<ul>
  <li>刚开始很容易输错密码</li>
  <li>没有 Karabiner 生活不能自理</li>
  <li>键盘唤醒时间很慢</li>
</ul>

<p>最后，附上工作照：
<img src="https://crispgm.com/image/HHKB-at-work.jpg" alt="HHKB" /></p>

<p>Happy Hacking!</p>

        </div>
        <div class="article-share">
          <a href="https://twitter.com/share?url=https%3A%2F%2Fcrispgm.com%2Fpage%2Fhhkb-evolutionary-way.html&text=%E6%88%91%E7%9A%84+HHKB+%E9%94%AE%E7%9B%98%E6%BC%94%E8%BF%9B%E5%BC%8F%E5%B8%83%E5%B1%80%E6%96%B9%E6%A1%88">
            <i class="icon-twitter"></i>
          </a>
          
          <a href="tg://msg_url?url=https%3A%2F%2Ft.me%2Fiv%3Furl%3Dhttps%253A%252F%252Fcrispgm.com%252Fpage%252Fhhkb-evolutionary-way.html%26rhash%3Da3e6c7b51eec6a">
            <i class="icon-telegram"></i>
          </a>
          <a href="https://www.buymeacoffee.com/crispgm">
            <i class="icon-coffee"></i>
          </a>
        </div>
        <div id="disqus_thread" class="article-comment"></div>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
      </div>
    </div>
    <footer class="wrapper" id="contact">
  <div class="content content-wrapper">
    <div class="contact">
      <div class="contact-links">
        <a href="mailto:crispgm@gmail.com"><i class="icon-envelope-o"></i></a>
        <a href="/feed.xml"><i class="icon-rss"></i></a>
        <a href="https://github.com/crispgm"><i class="icon-github"></i></a>
        <a href="https://stackoverflow.com/users/6858150/david-zhang/"><i class="icon-stack-overflow"></i></a>
        <a href="https://instagram.com/crispgm"><i class="icon-instagram"></i></a>
        <a href="https://twitter.com/crispgm"><i class="icon-twitter"></i></a>
      </div>
      <div class="contact-left">
        <a href="https://crispgm.com">David Zhang</a> &copy; 2019
      </div>
    </div>
  </div>
</footer>

    
<script src="/assets/scripts/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


    
<script>
var disqus_config = function () {
  this.page.identifier = '/page/hhkb-evolutionary-way.html';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://crispgm.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>


  </body>
  <script>
document.addEventListener('scroll', function(e) {
  var wrapper   = document.querySelector('.blog-wrapper');
  var article   = document.querySelector('.article');
  var docHeight = wrapper.offsetHeight;
  var maxHeight = docHeight - window.innerHeight - article.offsetTop;
  var scrollTop = window.scrollY || window.scollTop || document.getElementsByTagName("html")[0].scrollTop;
  var ratio = scrollTop / maxHeight;
  var progressBar = document.querySelector('.progress-bar');
  var winWidth  = window.innerWidth;
  if (ratio <= 1.0) {
    progressBar.style.width = winWidth * ratio + 'px';
  }
  else {
    progressBar.style.width = winWidth + 'px';
  }
});
</script>

  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-50708664-1', 'auto');
  ga('send', 'pageview');
</script>
</html>
