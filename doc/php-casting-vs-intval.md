### 原文信息

Original Page: 

>[PHP: Casting vs. intval()](http://hakre.wordpress.com/2010/05/13/php-casting-vs-intval)

>By __Hakre__, [hakre.wordpress.com](http://hakre.wordpress.com)  

>May 13th, 2010

### 正文

在PHP中，使用```(int)$var```方式进行类型转换比使用```intval($var)```函数方式快400%到650%。

#### 运行测试

(int)$val vs. intval($val) 速度对比[测试 #1]

\#   |INPUT                   |(INT)$val        |INTVAL($val)          |RATIO  
-----|------------------------|-----------------|----------------------|-----
\#0  |42                      |: 0.068180       |/ 0.448819            |658%
\#1  |-42                     |: 0.067972       |/ 0.448907            |660%
\#2  |4.2                     |: 0.072348       |/ 0.450288            |622%
\#3  |'42'                    |: 0.087305       |/ 0.469350            |537%
\#4  |'+42'                   |: 0.087590       |/ 0.471153            |537%
\#5  |'-42'                   |: 0.089154       |/ 0.469826            |526%
\#6  |34                      |: 0.068234       |/ 0.451035            |661%
\#7  |'042'                   |: 0.089344       |/ 0.470391            |526%
\#8  |0x1A                    |: 0.072989       |/ 0.451909            |619%
\#9  |'1e10'                  |: 0.088196       |/ 0.469347            |532%
\#10 |26                      |: 0.068378       |/ 0.449884            |657%
\#11 |42000000                |: 0.068770       |/ 0.449416            |653%
\#12 |2147483647              |: 0.068927       |/ 0.448028            |650%
\#13 |2147483648              |: 0.072599       |/ 0.450618            |620%
\#14 |4.2E+20                 |: 0.086305       |/ 0.467347            |541%
\#15 |'420000000000000000000' |: 0.102120       |/ 0.484245            |474%
\#16 |array()                 |: 0.092310       |/ 0.472185            |511%
\#17 |array('foo', 'bar')     |: 0.112644       |/ 0.494482            |438%

(int)$val vs. intval($val) 速度对比[测试 #2]

\#   |INPUT                   |(INT)$val        |INTVAL($val)          |RATIO  
-----|------------------------|-----------------|----------------------|-----
\#0  |42                      |: 0.045576       |/ 0.194759            |427%
\#1  |-42                     |: 0.042457       |/ 0.194273            |457%
\#2  |4.2                     |: 0.047853       |/ 0.196049            |409%
\#3  |'42'                    |: 0.055792       |/ 0.209531            |375%
\#4  |'+42'                   |: 0.055158       |/ 0.208236            |377%
\#5  |'-42'                   |: 0.056604       |/ 0.209486            |370%
\#6  |34                      |: 0.042580       |/ 0.194606            |457%
\#7  |'042'                   |: 0.056834       |/ 0.209276            |368%
\#8  |0x1A                    |: 0.045320       |/ 0.196626            |433%
\#9  |'1e10'                  |: 0.054923       |/ 0.209295            |381%
\#10 |26                      |: 0.042582       |/ 0.195295            |458%
\#11 |42000000                |: 0.042673       |/ 0.194469            |455%
\#12 |2147483647              |: 0.042560       |/ 0.194363            |456%
\#13 |2147483648              |: 0.045553       |/ 0.197149            |432%
\#14 |4.2E+20                 |: 0.054069       |/ 0.206131            |381%
\#15 |'420000000000000000000' |: 0.066170       |/ 0.218996            |330%
\#16 |array()                 |: 0.057587       |/ 0.210010            |364%
\#17 |array('foo', 'bar')     |: 0.071908       |/ 0.224338            |311%

这组测试每个项目进行了100000次。两个测试都在windows上运行。第一个使用的是PHP 5.2.8

#### intval()和int的结果对比

(待续)

#### 结论

使用(int)类型转换，便捷而且没有负面效果。
事实上，它在速度快的同时，还和intval()函数有完全一样的结果。
两者甚至还会有同样的warning信息。
