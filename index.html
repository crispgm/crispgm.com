<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Home - Crisp Blog</title>
<link rel="stylesheet" href="http://crispgm.com/style/style.css">
<link rel="stylesheet" href="http://crispgm.com/style/vs.css">
<link rel="stylesheet" href="http://crispgm.com/style/opensans.css">
<script src="http://crispgm.com/script/highlight.pack.js"></script>
<script src="http://crispgm.com/script/jquery-2.0.3.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="menu">
    <div id="menu_home">
        <a href="http://crispgm.com/">Crisp Blog</a>
    </div>
    <div id="menu_link">
        <a href="http://github.com/crispgm">Github</a>&nbsp;
        <a href="http://crispgm.com/page/about.html">About</a>
    </div>
</div>
<div id="container">

<div class="article">
<div class="article_head">
<div class="article_title"><a href="http://crispgm.com/page/moon-and-stars.html">看月亮和看星星</a></div>
<div class="article_date">2014/08/17</div>
</div>
<div class="article_main">
<h5>Copyright &copy; 芒果派</h5>
<h5>转自 <a href="http://atomatopie.tumblr.com/post/94999424136"><a href="http://atomatopie.tumblr.com/post/94999424136">http://atomatopie.tumblr.com/post/94999424136</a></a></h5>
<p>回想和小琳琳在一起的时候，我们在无意间做了很多都是是彼此的第一次的事情。</p>
<p>比如有一次，我们吃完晚饭去gym锻炼，走到campus square的时候，天上就开始飘起了雪花，生长在大湖建的小琳琳从来没看过下雪，当时惊喜地像个小孩，印象里，他好像特别兴奋地说，这是初雪啊，今年的初雪啊，我真没想到这辈子第一次看雪，竟然是跟小罗罗一起看的啊！我就在一旁吃吃地笑，嘲笑他没见过世面。除了看雪，我们还一起去看过月亮，看过星星，这个也就是今天要说的故事。</p>
<p>有一天晚上，我们从实验室出来，当时正好台风sandy扫荡过屌丝镇，惠风和畅，天朗气清。突然，小琳琳指着天上的月亮说，你看月晕。我第一次听到这个名词，似懂非懂地看着月亮，那月亮很亮，清澈的玉盘被蒙上羞涩的棉纱，周围出现了一个银白色的光环。我问小琳琳，月晕是什么啊？小琳琳说，月光通过云层中的冰晶时，经折射而成的光在月亮周围形成光圈，有时也呈银白色光圈，这些‘晕’其实就是卷层云，我们上科学课的时候也说到，冷空气遇到暖和的湿空气，就形成要下雨的云，这时，天上很冷，水滴都冻成了六角形的冰晶，当晚上的月光照射这些冰晶时，就形成了月晕。其实，小琳琳当时也解释了一大堆，后来我全给忘了，以上的释义全部来源于百度百科。我们就一边看着月亮，一边走回家，在家门口还给月晕拍了照片，结果因为像素太渣，拍下来的照片像是黑夜里的一盏白炽灯。我和小琳琳都觉得很可惜，于是我俩决定要买一台单反，下次再看到月晕的时候就可以拍下来。现在虽然有了单反，但这一拍星星拍月亮的计划却永远地流产了，也不知道我这辈子还能不能再看见一次月晕。</p>
<p>还有一次，也是冬天，我们从实验室出来，小琳琳说，今天天上星星好多啊，你看，猎户座！我就傻乎乎地问他哪个是猎户座。小琳琳嘲笑我说，猎户座是最好找的星座，因为有三颗小星星连成一条线，还有两颗大星星在下面组成了一个梯形。于是在北斗七星之后，我终于又认识了一个星座。看完猎户座，我还觉得不过瘾，朝小琳琳瞎嚷嚷说，好久没坐车了，我们开着车去山顶看吧。小琳琳想了一会说，你是萌萌萌小罗罗吗，那我们去mountain top campus看星星吧。我说，好啊好啊，正好可以试试star walk准不准。</p>
<p>小琳琳开着他的煤矿老板专用小雅阁，沿着盘山公路开到了山顶。天气实在太冷，我哆哆嗦嗦地打开了star walk准备校准。就在这时，小琳琳向我展示了他高逼格的天文知识，他指着我们头顶的一颗星星说，这颗最亮的星星是天鹅座β星，英文叫Albireo，它距离地球385光年，我们现在用裸眼观测天鹅座β是一颗单星。在那一瞬间，我对小琳琳真的崇拜地一塌糊涂，由衷地惊呆了。但小琳琳继续很冷静地向我解说，但事实上，借助天文望远镜观察，通常所谓的天鹅座β实际上是颗双星，一颗是黄色的，另一个是蓝色的，从地球观测相距34弧秒，因为两颗子星的颜色正好相反，所以这是全天颜色差距最显著的双星，过去，人们认为它们仅仅是光学双星，两者之间并没像真正的双星系统那样有公共点做轨道运行，无论如何，尽管两者间的距离遥远，但现在一般都认为它们是真正的双星。我听得云里雾里，但实在是被小琳琳这满腹天文经纶佩服地五体投地，只是嘿嘿嘿地笑了几下，认真地看着天鹅座。突然，一个闪着绿光、蓝光、黄光的飞行体快速移动，“小琳琳，那是飞碟吗？”我几乎是喊了出来！“你是超级幸运星小罗罗吗？”“嗯？什么？那是飞碟还是啥！”我还是不敢相信自己的眼睛，小琳琳却笑着说，“那颗是行星啊！超级幸运小罗罗，我们刚刚目击了颗小行星啊，全世界每年只有约250个人才能看到呢！”我看着小琳琳，傻傻地说不出话来，只听得小琳琳说，“因为太空各种旋转，总会有新的小行星误入能被地球观测到的区域！”说完，他跑去车里拿出了笔，在纸上写起了各路公式，我不明所以地看着他，不知道他要做什么。只见小琳琳图了一会，突然开口说，“算好啦！”“什么？”小琳琳指着小行星划过的天边说，今晚的这颗小行星就是我们一起新发现的，我给他命名为2014LL 南瓜派星，因为你做的南瓜派是世界上最好吃的南瓜派。我哈哈哈哈大笑，“小琳琳，你还能再土一点吗？”他却一本正经地说，“这是实话，我最喜欢芒果派做的南瓜派。”我内心好是欢喜，只顾抿着嘴傻笑。小琳琳继续说，“刚我算了，这颗南瓜派星，哈哈，我也觉得这个名字好好笑，这颗南瓜派星的周期是83年，83年以后我们还要一起看！”“哈哈哈”我心里又是高兴，又是感动，却还是傻不拉几地煞风景地问了句，“83年以后还不知道能不能看见呢！”“你是超级笨笨小罗罗吗？”小琳琳拍着我头反问道，“那就代表要永远在一起拉！”甜言蜜语听得我又惊又喜，一冲动就bia叽一下在小琳琳脸上亲了一口。</p></div></div>
<div class="article">
<div class="article_head">
<div class="article_title"><a href="http://crispgm.com/page/favo-apps-mac.html">我喜欢的应用——Mac篇</a></div>
<div class="article_date">2014/08/10</div>
</div>
<div class="article_main">
<h4>前言</h4>
<blockquote>
<p>子贡问为仁。子曰：“工欲善其事，必先利其器。居是邦也，事其大夫之贤者，友其士之仁者。”</p>
<p>——孔子（春秋）《论语·卫灵公》</p>
</blockquote>
<p>平时在工作生活中，特别注意对工具的选择和使用，无论是在PC、MAC、iPhone、iPad以至vim和shell中都是如此。
探索和体验新的工具是平时的一个小爱好。</p>
<p>开始前，说几个也许有点扯的前提：</p>
<ul>
<li>极简主义者，不喜欢功能和UI特别复杂的app</li>
<li>喜欢反应快速的东西</li>
<li>略有强迫症，图标非常不搭的app有点受不了，所以同等情况下会选择图标好看的，实在不可替代就丢到Folder中 :)</li>
<li>有娱乐但没有游戏，本人爱玩游戏但对手机游戏完全无爱</li>
</ul>
<h4>正文</h4>
<h4><em>Development</em></h4>
<p><strong>Chrome</strong>
速度快，自带同步，全平台支持，还可以不同类型终端之间访问书签和打开的页面。
强大的插件支持，去优酷广告、JSON格式化显示和HTTP代理都很需要。</p>
<p><em>Why not Safari?</em></p>
<ol>
<li>
<p>对Chrome的插件有强需求</p>
</li>
<li>
<p>本人偶尔会开发Chrome插件</p>
</li>
<li>
<p>在Windows上肯定会选择Chrome</p>
</li>
<li>喜欢Chrome的设计</li>
</ol>
<p><strong>Sublime Text</strong>
Sublime不是真的免费软件，但免费就可以使用全功能，只是会不定期提示你购买。
当时刚回国，卡里有几十澳元，因为很喜欢这个软件，也就付费了。
其实用的并不熟，大部分情况下只用到他自带的语法高亮、主题、语法提示、缩进调整和代码自动格式化相关的一些功能，这些功能都很nice。
Sublime也支持"插件"(叫做package)。比如写Markdown时可以用MarkdownEditing即时预览。
近期，我打算对Sublime的高级用法进行下探索，以后会单独发文介绍的。</p>
<p><em>ps</em>: 
Sublime有一个很吸引人的特性，就是多行编辑。不过，在我一次进行了一次选择了两万行再结尾加逗号的尝试后，发现这个功能在量大(其实两万真不能算量大)的时候完全没法用。</p>
<p><strong>Dash</strong>
API文档查询工具，收录了各种编程语言、框架和工具之类的API Documentation、User Manual和Cheat Sheet什么的。从此查文档不用现场Google了。</p>
<h4><em>Productivity</em></h4>
<p><strong>Apple Mail</strong>
本来打算使用Mac自带Mail，结果发现非常的不给力，于是放弃。
主要有两点比较不能忍受：</p>
<ol>
<li>收取Gmail有时会导致进程hang死，为此还专门研究了<a href="http://crispgm.com/page/mac-mail.html">解决方法</a>。</li>
<li>加载和删除邮件操作非常慢，经常删个垃圾邮件删半天。</li>
</ol>
<p><strong>Airmail</strong>
Airmail可以说是现在Mac最火的email client，购入后(￥12)只是收收生活上的邮件，所以其实也没有认真用。
只能说体验挺好的，特别是跟Gmail配合的很好，具体优点有待更深层体会。
目前还有些小毛病，比如126邮箱无法删除邮件。</p>
<p><strong>Wunderlist</strong>
我最喜欢的应用，没有之一。之前<a href="http://crispgm.com/page/favo-apps-iphone.html">iPhone篇</a>中已有介绍，在此不再介绍。
需要说一句的是，Mac版同步能力也很弱，可能比手机还弱。</p>
<p><strong>Evernote</strong>
强大印象笔记！之前<a href="http://crispgm.com/page/favo-apps-iphone.html">iPhone篇</a>中已有介绍，在此不再介绍。</p>
<p><strong>欧陆词典 EuDic</strong>
之前用Google Translate，毕竟不是专业词典，精确性不太好。
欧陆词典检索速度很快，功能简单够用。</p>
<h4><em>Social</em></h4>
<p><strong>WeChat</strong>
微信本来只有手机版，后来出了网页版，至于iPad和Windows用户只能并没有独立的版本。
而对于相对小众的Mac，却有Mac版的微信，不得不说算是一种福利了。
Mac版微信是Native Client，不过功能上跟网页版保持一致。
需要手机扫码才能登陆，只支持正常的聊天功能，不支持朋友圈等扩展功能。</p>
<p><strong>QQ</strong>
原先版本的Mac qq就是一废品，而打开现在的3.1.2，绝对是一款好产品了。
界面极简，设计也是Mac风格，不一样的qq体验。</p>
<h4>相关阅读</h4>
<ul>
<li><a href="http://crispgm.com/page/favo-apps-iphone.html">我喜欢的应用——iPhone篇</a></li>
<li>我喜欢的应用——iPad篇</li>
<li>我喜欢的应用——Win7篇</li>
</ul></div></div>
<div class="article">
<div class="article_head">
<div class="article_title"><a href="http://crispgm.com/page/favo-apps-iphone.html">我喜欢的应用——iPhone篇</a></div>
<div class="article_date">2014/05/29</div>
</div>
<div class="article_main">
<h4>前言</h4>
<blockquote>
<p>子贡问为仁。子曰：“工欲善其事，必先利其器。居是邦也，事其大夫之贤者，友其士之仁者。”</p>
<p>——孔子（春秋）《论语·卫灵公》</p>
</blockquote>
<p>平时在工作生活中，特别注意对工具的选择和使用，无论是在PC、MAC、iPhone、iPad以至vim和shell中都是如此。
探索和体验新的工具是平时的一个小爱好。</p>
<p>开始前，说几个也许有点扯的前提：</p>
<ul>
<li>极简主义者，不喜欢功能和UI特别复杂的app</li>
<li>喜欢反应快速的东西</li>
<li>略有强迫症，图标非常不搭的app有点受不了，所以同等情况下会选择图标好看的，实在不可替代就丢到Folder中 :)</li>
<li>有娱乐但没有游戏，本人爱玩游戏但对手机游戏完全无爱</li>
</ul>
<h4>正文</h4>
<h4><em>General</em></h4>
<p><strong>Chrome</strong>
PC上必备，因此手机上也装了它，这样可以同步使用收藏夹和访问其他设备上Chrome打开了的网页。</p>
<p><strong>Safari</strong>
Safari是某种意义上鉴定一个人英语水平的一个单词:)，
一般人会认为它读作['sæfəri]，实际上应该读作[sə'färi]或[sə'fari]。</p>
<p>虽说我常使用Chrome，但那更多的是受PC习惯影响，单说在iPhone上，Safari已经足够好。</p>
<p><strong>Apple Mail</strong>
并不很热衷在手机上看工作邮件，使用iPhone自带收一些私人邮件完全满足需求。
况且，手机上的Mail比Mac上的Mail稳定的多。</p>
<p><strong>Apple Maps</strong>
虽说刚出来时被人吐槽，不过我用的时候已经很带感了。
不喜欢那些功能复杂的地图，集成了寻路、打车和附近商家之类的功能。
只需要一个准确详细的地图的话，我想它已经足够好。</p>
<h4><em>Reading</em></h4>
<p><strong>Reeder</strong>
售价￥30，绝对物有所值，免费可以选Feedly，但收费的话我推荐Reeder。
Feedly不挂VPN实在会经常刷不出来，挂了VPN速度也不快。
反观Reeder可以直接登录Feedly帐号，速度还飞快，UI设计也更有阅读质感。
值得一提的是，Reeder的share功能反应特别快，分享到Pocket一点就行，完全无滞后感。</p>
<p><strong>Pocket</strong>
传说中的Read it later，Reeder中的RSS源比较多，希望深度阅读的认为，可以从Reeder中share到Pocket。
从阅读体验来说，其实Reeder更好些，但Pocket也逊色的不多。
最近刚出了Premium版，就是太贵了点，价格跟Evernote完全一致。
可以离线存储文章，从此不用再担心出现死链了。
不过，我们也可以选择把需要永久保存的内容直接再share到Evernote上。
因此，这就形成了一个<em>阅读链</em>。</p>
<p><em>阅读链</em>：</p>
<ol>
<li>
<p>Reeder订阅RSS</p>
</li>
<li>
<p>Reeder初步阅读，把感兴趣的share到Pocket</p>
</li>
<li>Pocket上深度阅读，把有用的永久保存在Evernote</li>
</ol>
<p><em>PS:</em> 真的书籍就不在手机或平板上阅读了，有Kindle和实体书。</p>
<p><strong>Instapaper</strong>
Instapaper同Pocket是宿敌，定位相似，价格￥25。
个人体验是Instapaper更专注阅读纯文本，对于文本的排版比Pocket略好。
跟Reeder的设计风格相似，颇为神似，两者配合起来很有感觉。
但它的文章抓取速度比Pocket慢太多了，不知是不是国内网络的原因。
综合的来说，价格算是值得，但我想Pocket其实已经够了。</p>
<h4><em>Productivity</em></h4>
<p><strong>Wunderlist</strong>
德国出品，wunder是德语wonder的意思。
简洁易用的TODO list类app，平时自己要做的事情都记在上面。
UI设计不跟风，至今还不是扁平化但却仍旧觉得很美。勾选操作也很有快感！
缺点是iOS/Mac上同步极其不稳定。</p>
<p>2014.7.31 Wunderlist 3发布。
这是一次大版本的升级，完成了技术重构和界面设计。
Wunderlist终于变成了扁平风格。
其他方面，主要的升级就是分享list和更简单的Collaboration。
以及所谓的Real-time sync，不过实测表明，iOS/Mac上同步依旧不给力，比原先提升的很有限，远远算不上实时。</p>
<p><strong>Evernote</strong>
强大印象笔记！免费基本可以用的很滋润。
对于一些数据量比较大的同学可能每个月60M比较不够，需要每个月可以使用1G的VIP服务。
参加买一送三买了VIP，其实用不上绝大多数功能，主要用到就是Presentation Mode以及iPhone上的密码锁。
Presentation Mode是我最喜欢的VIP功能，就是把笔记当作幻灯片演示。
平时工作时我会用印象笔记当Office用，可以记事、可以做表格、可以展示note。</p>
<p><strong>百度云</strong>
2TB真心赞，离线下载可以省去用迅雷。
之前有一个像素的解锁瑕疵，iPhone上至少已经修复了。
况且目前还是内网用户，没有不用的理由。</p>
<p><strong>Dropbox</strong>
对于本人来说，算是百度云的冷备，毕竟墙外数据安全性强点。
但又毕竟在墙内会比较卡，而且Dropbox容量只有2G，所以用于备份一些重要数据。</p>
<p><strong>欧陆词典 EuDic</strong>
之前用Google Translate，毕竟不是专业词典，精确性不太好。
欧陆词典检索速度很快，功能简单够用。</p>
<h4><em>Social</em></h4>
<p><strong>WeChat</strong>
主要沟通工具。虽然很臃肿了，但真心不能不用。</p>
<p><strong>QQ</strong>
基本功能的用户体验很好，但iPhone版极其臃肿，功能很杂。
幸好的是，腾讯的标签页设计的很合理，额外的功能同基础功能，有一种眼不见心不烦的意思。</p>
<p><strong>VVebo</strong>
官方微博客户端功能好多，体积好大，完全用不上。
买了WeicoPro但是近期的版本质量好差很容易crash，而且页面排版也不是很满意。
VVebo简洁功能够用，阅读感觉好！</p>
<p><strong>Instragram</strong>
图片社交软件，可以围观各种文艺妹子，就是加载速度什么的略慢。
不过后来一想，能看到就不错了，这货用的是<del>facebook</del>的CDN！</p>
<h4><em>Weather</em></h4>
<p><strong>Yahoo Weather</strong>
获得过设计大奖，界面非常漂亮，背景图是根据地理位置从Flickr上获取的美图，非常美的app。
缺点是由于每次进去都要下高清图，因此流量消耗不小。
还有就是Flickr上的城市美图项目已经不更新了，所以图片是有限的。</p>
<p><strong>Weather Dial</strong>
极简主义设计的天气app，卖的就是设计，价格要12元，限免时拿下。
不支持多城市，只支持地理定位当前城市，功能上比较普通。</p>
<p><strong>Accu Weather</strong>
史上最准确的天气预报app，精确到小时，没别的，就是精确。
UI也比较高大上，就是设计是按照4/4s长度来的，所以底部会有留白。
还有就是图标很难看。</p>
<p><strong>Apple Weather</strong>
简单实用的天气app，完全可以满足大多数日常需求。</p>
<p><strong>Air Quality</strong>
由于天气类app中没有选择国产，所以需要用它查看空气污染指数。</p>
<h4><em>Finance</em></h4>
<p><strong>支付宝</strong>
很实用的app，移动支付必备，AA也很方便，而且还可以当作支付Token用。</p>
<p><strong>招商银行</strong>
其中装了两个，一个是招商银行客户端而另一个是掌上生活。
前者主要功能是查询和管理工资卡，后者是处理信用卡事宜。
当然，作为用户体验最好的国内银行之一，招商银行的客户端在银行界那也是没得说！</p>
<h4><em>Workout</em></h4>
<p><strong>Abs Workout: Get Your Six Pack</strong>
练腹肌用的，你懂的。</p>
<p><em>Updated on August 10, to be continued.</em></p>
<h4>相关阅读</h4>
<ul>
<li>我喜欢的应用——iPad篇</li>
<li><a href="http://crispgm.com/page/favo-apps-mac.html">我喜欢的应用——Mac篇</a></li>
<li>我喜欢的应用——Win7篇</li>
</ul></div></div>
<div class="article">
<div class="article_head">
<div class="article_title"><a href="http://crispgm.com/page/mac-dns-flush.html">Mac OSX 10.9 Mavericks清除DNS缓存</a></div>
<div class="article_date">2014/05/03</div>
</div>
<div class="article_main">
<p>不说废话，正确的清除DNS缓存方式为：</p>
<pre><code>dscacheutil -flushcache
sudo killall -HUP mDNSResponder</code></pre></div></div>
<div class="article">
<div class="article_head">
<div class="article_title"><a href="http://crispgm.com/page/vim-youcompleteme.html">YouCompleteMe Installation Guide on Mac</a></div>
<div class="article_date">2014/04/20</div>
</div>
<div class="article_main">
<h4>What is YouCompleteMe</h4>
<p><a href="https://github.com/Valloric/YouCompleteMe">YouCompleteMe</a> 是一个vim插件，简称为ycm，支持基于语义的代码补全和代码语法检查功能。</p>
<p>常用的补全插件如ctags和AutoComplPop等是基于文本的，类似于搜索时的suggest功能。不过，前者是事先扫描文本生成tags文件，后者是对当前打开的文件内容进行扫描。
如果tags或者打开的文件重不存在的内容，那就无法进行补全。此外，这种补全是基于单词的，所以补全的提示可能是变量、关键字、注释甚至是字符串里的内容。</p>
<p>所谓的基于语义的代码补全，简单的说就是通过对代码的语义进行分析。举个例子，对于对象或结构操作时，在输入.之后ycm可以补全提示对象的成员变量和成员函数等。
一般的成熟IDE如Visual Studio和Eclipse都具有这种能力。</p>
<p>目前ycm支持5种程序语言:
C/C++/Objective-C(基于clang)，Python(基于<a href="https://github.com/davidhalter/jedi">Jedi</a>)和C# (基于<a href="https://github.com/nosami/OmniSharpServer">OmniSharp</a>)。</p>
<p>至于其他语言，ycm会调用vim omnifunc来匹配，因此不是很有必要使用ycm。</p>
<p>ycm虽然功能十分强大，不过编译安装较为复杂，本文基于Mac OSX 10.9 Mavericks介绍一下如何安装成功爽上ycm。</p>
<h4>Dependencies</h4>
<ul>
<li>
<p>vim 7.3.584+</p>
</li>
<li>
<p>cmake，建议使用homebrew安装</p>
</li>
<li>
<p><a href="https://github.com/gmarik/Vundle.vim">vundle</a>，安装起来很容易，按照github上面的介绍来就行</p>
</li>
<li>Python 2.6+</li>
</ul>
<h4>Installation</h4>
<p>安装完vundle后，修改.vimrc</p>
<pre><code>vim ~/.vimrc</code></pre>
<p>加入</p>
<pre><code>Bundle 'Valloric/YouCompleteMe'</code></pre>
<p>保存重启vim后<em>:BundleInstall</em>，就开始安装了。这个安装并没有包括编译，只是把ycm的vim、python以及C++代码下载下来。</p>
<p>然后进入YouCompleteMe的目录开始编译，<em>--clang-completer</em>是启用C family languages提示(为的就是这功能，果断要加上)</p>
<pre><code>cd ~/.vim/bundle/YouCompleteMe
./install.sh --clang-completer</code></pre>
<p>到此，插件已经编译完毕，基本上可以使用了。不过此时进入编辑cpp文件，发现代码提示怎么还是基于omnifunc呢？原来缺少了一条配置。</p>
<h4>Configuration</h4>
<p>编辑~/.vimrc文件，加入</p>
<pre><code>let g:ycm_global_ycm_extra_conf = '/Users/crisp/.vim/bundle/YouCompleteMe/cpp/ycm/.ycm_extra_conf.py'</code></pre>
<p>重新进入vim，已经可以正常对代码进行提示。</p>
<h4>In The End</h4>
<p><img alt="" src="http://crispgm.github.io/image/ycm-demo.png" /></p>
<p>Congrats to myself! </p>
<p>ycm提示出了对象md的成员函数(f标识)和成员变量(m标识)等信息。</p>
<p>对于Mac来说，由于作者(据我观察)就使用Mac，而且Mac OSX版本比较统一，因此按照作者的Mac OSX Super-quick installation步骤基本可以顺利安装。</p>
<p>不过在其他Linux上可就不一样了，我在公司的开发机上编译clang-completer就一直没成功，等到有空的时候再去折腾下。</p>
<p>Good luck to everyone!</p></div></div>
<div class="article">
<div class="article_head">
<div class="article_title"><a href="http://crispgm.com/page/fiddler-proxy.html">Fiddler网络调试工具</a></div>
<div class="article_date">2014/03/21</div>
</div>
<div class="article_main">
<h4>什么是Fiddler</h4>
<p>Fiddler官方给Fiddler的描述语是Web Debugging Proxy，也就是web调试代理工具。</p>
<p>主要功能有：</p>
<ul>
<li>
<p>截取HTTP/HTTPS请求</p>
</li>
<li>
<p>修改Session</p>
</li>
<li>
<p>网络调试</p>
</li>
<li>
<p>安全测试</p>
</li>
<li>性能测试</li>
</ul>
<p>本文，主要讨论前三项功能的使用方法，包括Fiddler的基础配置和功能以及使用内置FiddlerScript脚本进行复杂功能调试。</p>
<h4>准备和配置</h4>
<p>Fiddler使用C#开发，支持Windows XP以上版本。对于Linux和Mac用户，有一个基于Mono的Alpha版本，经本人Mac实际测试，基本上算是不能用的状态。因此，不建议使用。</p>
<p>下载地址：<a href="http://www.telerik.com/download/fiddler"><a href="http://www.telerik.com/download/fiddler">http://www.telerik.com/download/fiddler</a></a></p>
<p>安装完毕后，为了使用后续功能，建议安装<a href="http://www.telerik.com/download/fiddler/fiddlerscript-editor">FiddlerScript Editor</a>插件，否则修改FiddlerScript会比较麻烦。</p>
<p>准备完毕后，请打开Fiddler进入Tools->Fiddler Options，在Connections中勾选Allow remote computers to connect，并重新启动Fiddler。</p>
<h4>网络请求抓取</h4>
<p>完成了上述设置后，Fiddler就已经可以抓取本地的网络请求。如果需要对手机app进行调试，则需要设置手机代理。</p>
<pre><code>iPhone  
进入Settings -&gt; WLAN，单击你连接中的WIFI，在HTTP PROXY下选择Manual，然后Server填写Fiddler所在机器在此WIFI中的IP地址，Port是默认的8888。

Android
进入设置 -&gt; WIFI，长按你连接中的WIFI，点击修改网络网络，勾选高级选项，在HTTP代理中填写主机名和端口。

PC本地  
用ProxySwitchy一类的插件，代理到localhost:8888</code></pre>
<!---
![Fiddler Capturing](http://crispgm.github.io/image/fiddler/capturing.png)
--->
<p>选中请求后，可以查看Headers、Cookies和多种模式的(TextView/WebForms等)请求参数。</p>
<!---
![Fiddler Request](http://crispgm.github.io/image/fiddler/request.png)
--->
<p>如果想查看Response，则可以选中请求后点击Inspectors或者直接双击请求查看响应Headers和多种格式的响应内容。对于常见的数据结构，可以格式化展示JSON或XML。</p>
<!---
![Fiddler Response](http://crispgm.github.io/image/fiddler/response.png)
--->
<h4>Web Debugging</h4>
<p>在进行调试时，我们可以使用Fiddler的几种调试功能：</p>
<ul>
<li>
<p>HOSTS，等同于操作系统的HOSTS文件。</p>
</li>
<li>
<p>Filters，可以修改Request或Response的包体。</p>
</li>
<li>
<p>AutoResponder，可以截获请求，直接将请求代理到指定URL进行响应。</p>
</li>
<li>FiddlerScript，以FiddlerScript(C#)形式，实现Filters和AutoResponder的所有功能，并且可以定制UI界面。</li>
</ul>
<h4>HOSTS</h4>
<p>Fiddler自带有HOSTS功能，跟Windows自带的HOSTS应该是一回事，不过在Fiddler中操作比较方便。</p>
<p>而是直接从菜单进入Tools -> HOSTS...，勾选Enable remapping of requests(此处省略数十字)，就可以把请求线上服务通过HOST方式，代理到沙盒或者测试机。</p>
<!---
![Fiddler Hosts](http://crispgm.github.io/image/fiddler/hosts.png)
--->
<h4>Filters</h4>
<p>很多时候，客户端一次行为可能会产生多次HTTP请求，会造成很大的干扰，Filter功能就可以选择性截取</p>
<p>首先进入Filters标签，勾选Use Filters</p>
<p>在Request Headers中，勾选Show only if URL contains，并在后面的输入框中填写希望截取的URL。同理，也可以勾选Hide if URL contains，隐藏特定的请求。</p>
<p>除此之外，还可以直接修改Request或Response包体。</p>
<!---
![Fiddler Filters](http://crispgm.github.io/image/fiddler/filters.png)
--->
<h4>AutoResponder</h4>
<p>AutoReponder可以截获Request URL，并用其他URL进行Respond。利用AutoResponder，也可以实现将请求引导到指定机器的功能。</p>
<p>将原URL截获后，甚至可以直接修改URL。截图请求时也可以有很多方式，包括URL正则匹配、包体匹配和Headers匹配等。</p>
<p>此外，AutoResponder支持设置断点。可以在截获请求后，在断点处修改请求或者响应。</p>
<!---
![Fiddler AutoResponder](http://crispgm.github.io/image/fiddler/autoresponder.png)
--->
<h4>FiddlerScript</h4>
<p>FiddlerScript就是通过JScript.NET语言(可以约等于JS)，直接修改Request和Response，能够实现上述各种功能。对于熟练的专业用户来说，会更加方便灵活。</p>
<p>使用FidderScript建议安装第一节所说的插件，安装后就可以直接打开FiddlerScript标签，直接修改代码。</p>
<p>在OnBeforeRequest函数中修改：</p>
<blockquote>
<p>添加Headers</p>
</blockquote>
<pre><code>oSession.oRequest["http_net_type"] = "1";</code></pre>
<blockquote>
<p>添加Cookies</p>
</blockquote>
<pre><code>// 增加预览机标识
oSession.oRequest.headers.Add("Cookie", "pub_env=1");</code></pre>
<blockquote>
<p>匹配URL，防止添加的字段干扰到其他网页</p>
</blockquote>
<pre><code>if (oSession.uriContains("c.tieba.baidu.com")) {  
    // TODO
}</code></pre>
<p>更多用法，请参考<a href="http://docs.telerik.com/fiddler/knowledgebase/fiddlerscript/modifyrequestorresponse">Fiddler Documentation</a></p></div></div>
<nav id="page"><a href="http://crispgm.com/index-2.html" id="next">next</a></nav></div>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-50708664-1', 'crispgm.com');
ga('send', 'pageview');
</script>
<div>
<footer>
	Copyright &copy; Crisp, 2014.
</footer>
</div>
</body>
</html>

